let tomb = [
    {
        ar: "20",
        id: "N",
        img: "./Kepek/lilaPoloN.jpg",
        nev: "Lila P√≥l√≥",
        sale:true
    },
    {
        ar: "200",
        id: "N",
        img: "./Kepek/szormeKabatN.jpg",
        nev: "Sz≈ërme kab√°t",
        sale:false
    },
    {
        ar: "10",
        id: "N",
        img: "./Kepek/feketePoloN.jpg",
        nev: "Fekete N≈ëi P√≥l√≥",
        sale:false
    },
    {
        ar: "45",
        id: "N",
        img: "./Kepek/feketetaskaN.jpg",
        nev: "Fekete n≈ëi t√°ska",
        sale:false
    },
    {
        ar: "1000",
        id: "N",
        img: "./Kepek/nyaklancN.jpg",
        nev: "N≈ëi gy√©m√°nt nyakl√°nc",
        sale:false
    },
    {
        ar: "25",
        id: "N",
        img: "./Kepek/nyariruhaN.jpg",
        nev: "N≈ëi ny√°ri ruha",
        sale:false
    },
    {
        ar: "25",
        id: "F",
        img: "./Kepek/feherFelsoF.jpg",
        nev: "Feh√©r f√©rfi fels≈ë",
        sale:false
    },
    {
        ar: "120",
        id: "F",
        img: "./Kepek/feherKabatF.jpg",
        nev: "Feh√©r f√©rfi kab√°t",
        sale:false
    },
    {
        ar: "30",
        id: "F",
        img: "./Kepek/feketefelsoF.jpg",
        nev: "Fekete f√©rfi fels≈ë",
        sale:false
    },
    {
        ar: "45",
        id: "F",
        img: "./Kepek/kekfelsoF.jpg",
        nev: "K√©k f√©rfi fels≈ë",
        sale:true
    },
    {
        ar: "250",
        id: "F",
        img: "./Kepek/leatherJacketF.jpeg",
        nev: "Fekete b≈ërkab√°t",
        sale:false
    },
    {
        ar: "25",
        id: "F",
        img: "./Kepek/szurkeoltonyF.jpg",
        nev: "Sz√ºrke f√©rfi √∂lt√∂ny",
        sale:false
    },
    {
        ar: "60",
        id: "K",
        img: "./Kepek/barnaTaskaK.jpg",
        nev: "Barna f√©rfi h√°tit√°ska",
        sale:false
    },
    {
        ar: "13",
        id: "K",
        img: "./Kepek/borosUvegK.jpg",
        nev: "Fekete √ºvegpalack",
        sale:false
    },
    {
        ar: "50",
        id: "K",
        img: "./Kepek/keresztnyaklK.jpg",
        nev: "Kereszt nyakl√°nc",
        sale:true
    },
    {
        ar: "45",
        id: "K",
        img: "./Kepek/rozsaTaskaK.jpg",
        nev: "R√≥zsasz√≠n h√°tit√°ska",
        sale:false
    },
    {
        ar: "12",
        id: "K",
        img: "./Kepek/rozsaUvegK.jpg",
        nev: "R√≥zsasz√≠n √ºvegpalack",
        sale:false
    },
    {
        ar: "35",
        id: "K",
        img: "./Kepek/sportTaskaK.jpg",
        nev: "F√©rfi sportt√°ska",
        sale:false
    },
    {
        ar: "70",
        id: "R",
        img: "./Kepek/barnaBorcipoR.jpg",
        nev: "Bana f√©rfi b≈ërcip≈ë",
        sale:false
    },
    {
        ar: "60",
        id: "R",
        img: "./Kepek/feketeCipoR.jpg",
        nev: "Fekete n≈ëi cip≈ë",
        sale:true
    },
    {
        ar: "90",
        id: "R",
        img: "./Kepek/feketecsizmaR.jpg",
        nev: "Fekete F√©rfi Csizma",
        sale:false
    },
    {
        ar: "15",
        id: "R",
        img: "./Kepek/feketeKesztyuR.jpg",
        nev: "Fekete t√©li keszty≈±",
        sale:false
    },
    {
        ar: "100",
        id: "R",
        img: "./Kepek/feketeN≈ëiCsizmaR.jpg",
        nev: "Fekete N≈ëi csizma",
        sale:false
    },
    {
        ar: "75",
        id: "R",
        img: "./Kepek/keksportcipoR.jpg",
        nev: "K√©k sportcip≈ë",
        sale:false
    },
    {
        ar: "30",
        id: "C",
        img: "./Kepek/farmerekC.jpg",
        nev: "Farmer nadr√°gok v√°laszthat√≥ sz√≠nben",
        sale:false
    },
    {
        ar: "60",
        id: "C",
        img: "./Kepek/ingekC.jpg",
        nev: "Ingek v√°laszthat√≥ sz√≠nben",
        sale:false
    },
    {
        ar: "90",
        id: "C",
        img: "./Kepek/polokC.jpg",
        nev: "P√≥l√≥k v√°laszthat√≥ sz√≠nben",
        sale:false
    },
    {
        ar: "15",
        id: "C",
        img: "./Kepek/pulcsikC.jpg",
        nev: "Pul√≥verek v√°laszthat√≥ sz√≠nben",
        sale:false
    },
    {
        ar: "100",
        id: "C",
        img: "./Kepek/sapiC.jpg",
        nev: "Baseball sapk√°k t√∂bb sz√≠nben",
        sale:true
    },
    {
        ar: "75",
        id: "C",
        img: "./Kepek/sportcipokC.jpg",
        nev: "Sportcip≈ëk t√∂bb sz√≠nben",
        sale:false

    },
    {
        ar: "30",
        id: "C",
        img: "./Kepek/feherNaciC.jpg",
        nev: "Feh√©r farmer nadr√°gok",
        sale:false
    },
    {
        ar: "60",
        id: "C",
        img: "./Kepek/feketeIngekC.jpg",
        nev: "Fekete ingek",
        sale:false
    },
    {
        ar: "90",
        id: "C",
        img: "./Kepek/feherPolokC.jpg",
        nev: "Feh√©r p√≥l√≥k",
        sale:false
    },
    {
        ar: "15",
        id: "C",
        img: "./Kepek/gatyaC.jpg",
        nev: "Feh√©rnem≈±k t√∂bb sz√≠nben",
        sale:false
    },
    {
        ar: "10",
        id: "C",
        img: "./Kepek/kesztyuC.jpg",
        nev: "Munk√°s keszty≈±k t√∂bb sz√≠nben",
        sale:false
    },
    {
        ar: "5",
        id: "C",
        img: "./Kepek/zokciC.jpg",
        nev: "Zoknik t√∂bb sz√≠nben",
        sale:false

    },
    {
        ar: "30",
        id: "N",
        img: "./Kepek/cianNaciN.jpg",
        nev: "Ci√°n sz√≠n≈± nadr√°g",
        sale:false
    },
    {
        ar: "20",
        id: "N",
        img: "./Kepek/cianPoloN.jpg",
        nev: "Ci√°n sz√≠n≈± n≈ëi p√≥l√≥",
        sale:false
    },
    {
        ar: "20",
        id: "N",
        img: "./Kepek/feketeFeherPoloN.jpg",
        nev: "Fekete feh√©r n≈ëi p√≥l√≥",
        sale:false
    },
    {
        ar: "15",
        id: "N",
        img: "./Kepek/sargaPoloN.jpg",
        nev: "S√°rga n≈ëi p√≥l√≥",
        sale:false
    },
    {
        ar: "15",
        id: "N",
        img: "./Kepek/zoldFelsoN.jpg",
        nev: "Z√∂ld N≈ëi fels≈ë",
        sale:false
    },
    {
        ar: "25",
        id: "N",
        img: "./Kepek/pirosNaciN.jpg",
        nev: "Piros n≈ëi nadr√°g",
        sale:false

    },
    {
        ar: "45",
        id: "F",
        img: "./Kepek/barnaPulcsiF.jpg",
        nev: "Barna f√©rfi pul√≥ver",
        sale:false
    },
    {
        ar: "20",
        id: "F",
        img: "./Kepek/feketeFeherPoloF.jpg",
        nev: "Fekete feh√©r f√©rfi p√≥l√≥",
        sale:false
    },
    {
        ar: "20",
        id: "F",
        img: "./Kepek/kekIngF.jpg",
        nev: "K√©k f√©rfi ing",
        sale:true
    },
    {
        ar: "15",
        id: "F",
        img: "./Kepek/pirosPoloF.jpg",
        nev: "Piros f√©rfi p√≥l√≥",
        sale:false
    },
    {
        ar: "35",
        id: "F",
        img: "./Kepek/sargaPulcsiF.jpg",
        nev: "S√°rga f√©rfi pul√≥ver",
        sale:false
    },
    {
        ar: "24",
        id: "F",
        img: "./Kepek/szurkeNadragF.jpg",
        nev: "Sz√ºrke f√©rfi nadr√°g",
        sale:false

    },
    {
        ar: "35",
        id: "R",
        img: "./Kepek/bezsTaskaR.jpg",
        nev: "B√©zs n≈ëi t√°ska",
        sale:false
    },
    {
        ar: "20",
        id: "R",
        img: "./Kepek/ciganyAsszonytaskaR.jpg",
        nev: "K√©k b≈ër t√°ska",
        sale:false
    },
    {
        ar: "20",
        id: "R",
        img: "./Kepek/ezustTaskaR.jpg",
        nev: "Ez√ºst t√°ska",
        sale:false
    },
    {
        ar: "15",
        id: "R",
        img: "./Kepek/klumpaR.jpg",
        nev: "Piros gumicsizma",
        sale:false
    },
    {
        ar: "35",
        id: "R",
        img: "./Kepek/pirosTaskaR.jpg",
        nev: "Piros b≈ër t√°ska",
        sale:false
    },
    {
        ar: "24",
        id: "R",
        img: "./Kepek/vaszonTatyoR.jpg",
        nev: "V√°szon t√°ska",
        sale:false

    },
    {
        ar: "125",
        id: "K",
        img: "./Kepek/marioSapiR.jpg",
        nev: "Super Mario sapi",
        sale:false
    },
    {
        ar: "20",
        id: "K",
        img: "./Kepek/luigiSapiR.jpg",
        nev: "Super Luigi sapi",
        sale:false
    },
    {
        ar: "20",
        id: "K",
        img: "./Kepek/noiSportTaskaR.jpg",
        nev: "N≈ëi sport t√°ska",
        sale:false
    },
    {
        ar: "15",
        id: "K",
        img: "./Kepek/zeldaNyaklancR.jpg",
        nev: "The Legend of Zelda nyakl√°nc",
        sale:false
    },
    {
        ar: "35",
        id: "K",
        img: "./Kepek/baseballSapkaR.jpg",
        nev: "Baseball sapka",
        sale:false
    },
    {
        ar: "24",
        id: "K",
        img: "./Kepek/szepSapkaR.jpg",
        nev: "Ny√°ri sapka",
        sale:false

    }

];


let betoltott = false;
let filtered = false;
window.onload = function () {
    Filter();
    Ertek();
}

function KartyaLetrehozas(szurtRuhaBe, betoltott){
    if (betoltott) {
        for (let i = 0; i < szurtRuhaBe.length; i++) {
            let ujKartya = document.createElement("div")
            ujKartya.classList.add("card")
            let kartyaKeptarolo = document.createElement("div")
            kartyaKeptarolo.classList.add("image-container")
                let kartyaKepElem = document.createElement("img")
                kartyaKepElem.classList.add("kartyaKep")
                let kartyaKepOverlay = document.createElement("div")
                kartyaKepOverlay.classList.add("overlay")
                    let overlayGombokTarolo = document.createElement("div")
                    overlayGombokTarolo.classList.add("buttons")
                        let buttonsIcons = document.createElement("div")
                        buttonsIcons.classList.add("icons")
                            let icon1 = document.createElement("button")
                            icon1.textContent = "‚ù§"
                            let icon2 = document.createElement("button")
                            icon2.textContent = "üëÅ"
                        let addToCart = document.createElement("button")
                        addToCart.classList.add("add-to-cart")
                        addToCart.textContent = "Add To Cart"
            let kartyaDetails = document.createElement("div")
            kartyaDetails.classList.add("details")
                kartyaTermeknev = document.createElement("div")
                kartyaTermeknev.classList.add("title")
                kartyaAr = document.createElement("div")
                kartyaAr.classList.add("price")
                saleAr=document.createElement("div")
    
    
                buttonsIcons.appendChild(icon1)
                buttonsIcons.appendChild(icon2)
                overlayGombokTarolo.appendChild(buttonsIcons)
                overlayGombokTarolo.appendChild(addToCart)
                kartyaKepOverlay.appendChild(overlayGombokTarolo)
                kartyaKeptarolo.appendChild(kartyaKepElem)
                kartyaKeptarolo.appendChild(kartyaKepOverlay)
                kartyaDetails.appendChild(kartyaTermeknev)
                kartyaDetails.appendChild(kartyaAr)
                kartyaDetails.appendChild(saleAr)
                ujKartya.appendChild(kartyaKeptarolo)
                ujKartya.appendChild(kartyaDetails)
                document.getElementsByClassName("kartyaksor")[0].appendChild(ujKartya)
        }
    }
}

//N, F, K, R, C
function RendezSorrend(valaszottoldal, irany, min, max) {
    let szuroFeltetel;
    let szurtRuhak = [];
    switch (valaszottoldal) {
        case "N≈ëi ruh√°k":
            szuroFeltetel = "N"
            break;
        case "F√©rfi ruh√°k":
            szuroFeltetel = "F";
            break;
        case "Kieg√©sz√≠t≈ëk":
            szuroFeltetel = "K";
            break;
        case "Egy√©b ruh√°zatok, cip≈ëk":
            szuroFeltetel = "R";
            break;
        case "Casual":
            szuroFeltetel = "C";
            break;
        default:
            alert("Hiba t√∂rt√©nt a sz≈±r√©s k√∂zben!");
            break;
    }
    for (let i = 0; i < tomb.length; i++) {
        if (tomb[i].id == szuroFeltetel && tomb[i].ar >= min && tomb[i].ar <= max) {
            szurtRuhak.push(tomb[i]);
        }
    }

    if (!betoltott) {
        document.getElementsByClassName("kartyaksor")[0].innerHTML = ""
        KartyaLetrehozas(szurtRuhak, true)
        betoltott = true
    }

    switch (irany) {
        case "nov":
            szurtRuhak.sort((a, b) => a.ar - b.ar)
            break;
        case "csok":
            szurtRuhak.sort((a, b) => b.ar - a.ar)
            break;
        case "abcSor":
            szurtRuhak.sort((a, b) => a.nev.localeCompare(b.nev, 'hu'))
            break;
        case "abcRev":
            szurtRuhak.sort((a, b) => b.nev.localeCompare(a.nev, 'hu'))
            break;
        case "alap":
            break;
        default:
            alert("Hiba t√∂rt√©nt a sz≈±r√©s k√∂zben! 2")
            break;
    }

    let j = 0;
    for (let i = 0; i < tomb.length; i++) {                        
        let kep = document.querySelectorAll('.kartyaKep')[j];
        kep.src = szurtRuhak[i].img;
        kep.title = szurtRuhak[i].nev;
        kep.setAttribute("title", szurtRuhak[i].nev)
        let termAr = document.querySelectorAll('.price')[j];
        termAr.innerHTML = "$" + szurtRuhak[i].ar;
        let titleK = document.querySelectorAll('.title')[j];
        titleK.textContent = "";
        titleK.innerHTML = szurtRuhak[i].nev;
        if(tomb[i].sale==true)
            {
              termAr.innerHTML="<del style='color:gray'>"+"$" + szurtRuhak[i].ar+"</del>"+" $"+szurtRuhak[i].ar/2;
            }
        let termekSzam=document.querySelectorAll('.termekSzam')[0];
        termekSzam.innerHTML=szurtRuhak.length;
        j++;
    }

}

function Atrendezes() {
    let minAr = document.getElementById("rangeMin").value
    let maxAr = document.getElementById("rangeMax").value

    let sortErtek = document.getElementById("sortdropdown").value;
    switch (sortErtek) {
        case "decrease":
            RendezSorrend(document.title, "csok", minAr, maxAr)
            break;
        case "increase":
            RendezSorrend(document.title, "nov", minAr, maxAr)
            break
        case "alap":
            RendezSorrend(document.title, "alap", minAr, maxAr)
            break;
        case "abcIncrease":
            RendezSorrend(document.title, "abcSor", minAr, maxAr)
            break;
        case "abcReverse":
            RendezSorrend(document.title, "abcRev", minAr, maxAr)
            break;
        default:
            alert("Hiba t√∂rt√©nt a sz≈±r√©s k√∂zben!")
            break;
    }
}
function TopTermekek() {
    for (let i = 0; i < 5; i++) {
        let randomSzam = Math.floor(Math.random() * 61);
        let adat = tomb[randomSzam];
        let topNev = document.querySelectorAll('.kover')[i];
        topNev.textContent = "";
        topNev.innerHTML = "&#8226 " + adat.nev;
        let topAr = document.querySelectorAll('.topAr')[i];
        topAr.textContent = "";
        topAr.innerHTML = "&nbsp" + "$" + adat.ar;
        let topKep = document.querySelectorAll('.topKep')[i];
        topKep.src = adat.img;

    }
}
TopTermekek();


function Filter(){
    betoltott = false
    Atrendezes()
}

function Ertek(){
    let minErtek = document.getElementById("rangeMin").value
    let maxErtek = document.getElementById("rangeMax").value

    let rangeErtekKiiras = document.getElementById("priceRangeP")
    rangeErtekKiiras.textContent = `Price: $${minErtek} - $${maxErtek}`
}